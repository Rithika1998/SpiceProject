@model IEnumerable<SpicePro.DomainModels.ShoppingCart>

@{
    ViewBag.Title = "OrderSummary";
}

@*<h2>OrderSummary</h2>*@
<br />

@*<h4 style="color:crimson">PickUp Details:</h4>*@

<body style="background-color:burlywood">
</body>
    <style>
            input[type=text], select {
                width: 100%;
                padding: 12px 20px;
                margin: 8px 0;
                display: inline-block;
                border: 1px solid #ccc;
                border-radius: 4px;
                box-sizing: border-box;
            }

            input[type=date], select {
                width: 100%;
                padding: 12px 20px;
                margin: 8px 0;
                display: inline-block;
                border: 1px solid #ccc;
                border-radius: 4px;
                box-sizing: border-box;
            }

            input[type=time], select {
                width: 100%;
                padding: 12px 20px;
                margin: 8px 0;
                display: inline-block;
                border: 1px solid #ccc;
                border-radius: 4px;
                box-sizing: border-box;
            }

            textarea {
                width: 100%;
                height: 150px;
                padding: 12px 20px;
                box-sizing: border-box;
                border: 2px solid #ccc;
                border-radius: 4px;
                background-color: #f8f8f8;
                resize: none;
            }
        </style>

<aside class="order-summary bg-contrast-lower radius-md ">

    <div style="text-align:end">
        <a class="btn btn-primary" href="@Url.Action("Cart", "Home")" tstyle="padding-left: 520px;
        font-family:Arial; font-size:larger;">
            Edit
            <i class="sr-only">cart</i>
        </a>
    </div>


    @*<div class="container img-rounded p-2">

        <div class="row">
            <div class="col-lg-6 pb-4">

                <div class="col-75">
                    <label for="name">Name</label>

                    <input type="text" id="name" name="name" placeholder="">
                </div>


                <div class="row">

                    <div class="col-75">
                        <label for="phone">Phone</label>

                        <input type="text" id="phone" name="phonenumber" placeholder="">
                    </div>
                </div>
                <div class="row">


                    <div class="col-75">
                        <label for="date">Date</label>

                        <input type="date" id="date" name="date" placeholder="">
                    </div>
                </div>
                <div class="row">

                    <div class="col-75">
                        <label for="time">Time</label>
                        <input type="time" id="time" name="time" placeholder="">
                    </div>
                </div>
            </div>
        </div>*@

    @*<div class="row">
            <div class="col-25">
                <label for="subject">Additional Instructions</label>
            </div>
            <div class="col-75">
                <textarea id="subject" name="subject" placeholder="Write something.." style="height:200px"></textarea>
            </div>
        </div>*@
    
    @*<div class="card-body">*@


        <div class="container img-rounded p-2">
            <div class="row">
                <div class="col-lg-6 pb-4">
                    <div class="row">
                        <h4 class="d-flex justify-content-between align-items-center mb-3">
                            <span class="text-info">PickUp Details</span>
                        </h4>
                    </div>

                    <div>
                        <form action="/action_page.php">
                            <label for="fname" style="color:crimson">Name</label>
                            <input type="text" id="fname" name="firstname" placeholder="Rithika">
                            <br />
                            <label for="lphoneno">Phone</label>
                            <input type="text" id="lphoneno" name="phonenumber" placeholder="9876578968">
                            <br />
                            <label for="date">Date</label>
                            <input type="date" id="date" name="date">
                            <br />
                            <label for="time">Time</label>
                            <input type="time" id="time" name="time" placeholder="">
                            <br />
                            @*<label for="textarea">Additional Instructions</label>
                                <textarea></textarea>*@
                        </form>
                    </div>
                </div>
            </div>
        </div>

        @*<div class="col-12 col-lg-5 offset-lg-1">*@

            <div class="right:16px;top:8px" style="width:555px;float:right;margin-top:-295px">
                <h4 class="d-flex-justify-content-between align-items-center mb-3">
                    <span class="text-info">Order Summary</span>
                </h4>

                <table class="table table-bordered" style="width:600px">
                    @{ double bag = 0;
                    }

                    @{ double Total = 0; }

                    @foreach (var i in Model)
                    {
                        //double Total = 0;

                        Total = (Total + i.MenuItem.Price) * i.Count;

                        Total = (@i.MenuItem.Price) * @i.Count;
                        <tr>

                            <td>

                                <h4>
                                    <p style="color:darkolivegreen"><strong>@Html.DisplayFor(m => i.MenuItem.MenuName)</strong></p>
                                </h4>
                                <br />

                                <h5>
                                    <p style="color:crimson"> @Html.DisplayFor(m => i.MenuItem.Price) x @Html.DisplayFor(m => i.Count)</p>
                                </h5>
                            </td>
                            <td>
                                @*<h4>
                                        <p style="color:crimson"> @Total</p>
                                    </h4>*@
                                <h4>
                                    <p style="color:crimson">@Total.ToString("c")</p>
                                </h4>
                            </td>
                        </tr>
                        // &#8377; bag = bag + Total;

                        bag = bag + Total;
                    }

                </table>

            </div>



        @*</div>*@

<div>
    <h3>
        Total: @bag.ToString("c")
    </h3>



    @{ double Final = 0.0;
        Final = 100 + bag; }

    <ul class="text-sm flex flex-column gap-xxs">
        <li class="flex justify-between font-bold"><i>Total</i>@bag.ToString("c") <i></i></li>
        @*<li class="flex justify-between"><i>Subtotal</i> <i>@bag.ToString("c")</i></li>*@
        @*<li class="flex justify-between"><i>Tax</i> <i>$100.00</i></li>*@
        <li class="flex justify-between"><i>Delivery:</i> <i>Free</i></li>
        @*<li class="flex justify-between font-bold"><i>Total</i>@bag.ToString("c") <i></i></li>*@
    </ul>

</div>
        @*@Html.ActionLink("Place Your Order", "Menu", "Home", new { @class = "btn btn-primary" })*@

</aside>



<!-- Trigger/Open The Modal -->
<button id="myBtn" style="margin-left:491px" class="btn btn-primary">Proceed To Pay</button>
<!-- The Modal -->
<div id="myModal" class="modal">
    <div class="modal-content">
        <div class="modal-content" style="padding-left:20px;">
            <div class="modal-header">
                <span class="close">&times;</span>
                <h2 style="margin-left:350px">Transaction Details</h2>
            </div>
            <div class="row">
                <div class="col-md-3">
                    <label for="cname"><i class="fa fa-user"></i> Name</label>
                    <input type="text" id="cname" name="cardname" placeholder="Name On the Card" class="form-control"><br />
                </div>
                <div class="col-md-3">
                    <label for="ccnum"><i class="fa fa-credit-card"></i> card number</label>
                    <input type="text" id="ccnum" name="cardnumber" placeholder="1111-2222-3333-4444" class="form-control"><br />
                </div>
                <div class="col-md-3">
                    <label for="expmonth">Exp Month</label>
                    <input type="text" id="expmonth" name="expmonth" placeholder="September" class="form-control"><br />
                </div>
            </div>
            <div class="row">
                <div class="col-md-3">
                    <label for="expyear">Exp Year</label>
                    <input type="text" id="expyear" name="expyear" placeholder="2018" class="form-control">
                </div>
                <div class="col-md-3">
                    <label for="cvv">CVV</label>
                    <input type="text" id="cvv" name="cvv" placeholder="352" class="form-control">
                </div>
                <div class="col-md-3">
                    <i class="fa fa-cc-visa" style="color:navy;"></i>
                    <i class="fa fa-cc-amex" style="color:blue;"></i>
                    <i class="fa fa-cc-mastercard" style="color:red;"></i>
                    <i class="fa fa-cc-discover" style="color:orange;"></i>
                </div>
            </div>
            <br />
            <div class="modal-footer">
                <div style="margin-right:500px">Grand Total : @String.Format("{0:C}", bag)</div>
                <a href="/Home/CartRemove?uName=@ViewBag.userId" type="button" class="btn btn-success" style="margin-right:580px">PAY</a>

            </div>
        </div>
    </div>
    <script>
    // Get the modal
        var modal = document.getElementById("myModal");

        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks the button, open the modal
        btn.onclick = function () {
            modal.style.display = "block";
        }

        // When the user clicks on <span> (x), close the modal
        span.onclick = function () {
            modal.style.display = "none";
        }
        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }</script>

</div>